(this["webpackJsonpinterview-project"]=this["webpackJsonpinterview-project"]||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},19:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(5),r=a.n(s),l=(a(15),a(16),a(3)),i=a(2);a(19);var o=function(e){let{searchValue:t,isVisible:a,handleSearch:n,toggleSearch:s}=e;return c.a.createElement("div",{className:"search-container"},c.a.createElement(l.a,{icon:a?i.b:i.c,className:"search-icon",onClick:()=>s()}),c.a.createElement("div",{className:"search-box "+(a?"visible":"")},c.a.createElement("input",{type:"text",placeholder:"Search...",onChange:n,style:{opacity:a?1:0},value:t})))};var m=e=>{let{src:t,alt:a}=e;const[s,r]=Object(n.useState)(!1),l=Object(n.useRef)();return Object(n.useEffect)(()=>{const e=l.current,t=new IntersectionObserver(a=>{let[n]=a;n.isIntersecting&&(r(!0),t.unobserve(e))},{threshold:.1});return e&&t.observe(e),()=>{e&&t.unobserve(e)}},[]),c.a.createElement("img",{ref:l,src:s?t:"",alt:a,style:{width:"100%",height:"auto"}})};var u=e=>{let{index:t,movie:a}=e;return c.a.createElement("div",{className:"movie-item",key:t},c.a.createElement(m,{src:"https://test.create.diagnal.com/images/"+a["poster-image"],alt:a.name+" Thumbnail"}),c.a.createElement("div",{className:"movie-title"},a.name))};var h=function(){const[e,t]=Object(n.useState)([]),[a,s]=Object(n.useState)(""),[r,m]=Object(n.useState)(""),[h,g]=Object(n.useState)(!1),v=async()=>{try{const e=await fetch("https://test.create.diagnal.com/data/page1.json");if(!e.ok)throw new Error("Response status: "+e.status);const a=await e.json();s(a.page.title),t(a.page["content-items"].content)}catch(e){console.error(e.message)}};return Object(n.useEffect)(()=>{v()},[]),Object(n.useEffect)(()=>{h||(m(""),v())},[h]),Object(n.useEffect)(()=>{if(r.length>0){const a=e.filter(e=>e.name.toLowerCase().includes(r.toLowerCase()));t(a)}},[r,e]),c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement(o,{searchValue:r,isVisible:h,toggleSearch:()=>{g(!h)},handleSearch:e=>{const{value:t}=e.target;0===t.length?v():m(t)}})),c.a.createElement("main",null,c.a.createElement("section",null,c.a.createElement("div",{className:""},c.a.createElement("h2",null," ",c.a.createElement(l.a,{className:"back-icon",icon:i.a}),a)),c.a.createElement("div",{className:"movie-grid"},e.length>0?e.map((e,t)=>c.a.createElement(c.a.Fragment,null,c.a.createElement(u,{index:t,movie:e}))):c.a.createElement("div",{className:"response-negative-message"},"No Movies are found")))))};var g=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,21)).then(t=>{let{getCLS:a,getFID:n,getFCP:c,getLCP:s,getTTFB:r}=t;a(e),n(e),c(e),s(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(h,null))),g()},6:function(e,t,a){e.exports=a(20)}},[[6,1,2]]]);
//# sourceMappingURL=main.d570d493.chunk.js.map